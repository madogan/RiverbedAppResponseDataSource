/*! For license information please see module.js.LICENSE.txt */
define(["react","@grafana/ui","@grafana/data","@grafana/runtime","lodash"],(function(e,t,n,r,o){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/",n(n.s=52)}([function(t,n){t.exports=e},function(e,n){e.exports=t},function(e,t){e.exports=n},function(e,t){e.exports=r},function(e,t){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},function(e,t,n){var r=n(10),o=n(29),a=n(30),i=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":i&&i in Object(e)?o(e):a(e)}},function(e,t,n){var r=n(11),o="object"==typeof self&&self&&self.Object===Object&&self,a=r||o||Function("return this")();e.exports=a},function(e,t){e.exports=function(e){return null!=e&&"object"==typeof e}},function(e,t){e.exports=function(e){return e}},function(e,t,n){var r=n(5),o=n(4);e.exports=function(e){if(!o(e))return!1;var t=r(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},function(e,t,n){var r=n(6).Symbol;e.exports=r},function(e,t,n){(function(t){var n="object"==typeof t&&t&&t.Object===Object&&t;e.exports=n}).call(this,n(28))},function(e,t){e.exports=function(e,t){return e===t||e!=e&&t!=t}},function(e,t,n){var r=n(9),o=n(14);e.exports=function(e){return null!=e&&o(e.length)&&!r(e)}},function(e,t){e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},function(e,t){var n=/^(?:0|[1-9]\d*)$/;e.exports=function(e,t){var r=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==r||"symbol"!=r&&n.test(e))&&e>-1&&e%1==0&&e<t}},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){var r=n(19),o=n(12),a=n(36),i=n(37),u=Object.prototype,s=u.hasOwnProperty,c=r((function(e,t){e=Object(e);var n=-1,r=t.length,c=r>2?t[2]:void 0;for(c&&a(t[0],t[1],c)&&(r=1);++n<r;)for(var p=t[n],l=i(p),f=-1,d=l.length;++f<d;){var h=l[f],m=e[h];(void 0===m||o(m,u[h])&&!s.call(e,h))&&(e[h]=p[h])}return e}));e.exports=c},function(e,t){e.exports=o},function(e,t,n){var r=n(8),o=n(20),a=n(22);e.exports=function(e,t){return a(o(e,t,r),e+"")}},function(e,t,n){var r=n(21),o=Math.max;e.exports=function(e,t,n){return t=o(void 0===t?e.length-1:t,0),function(){for(var a=arguments,i=-1,u=o(a.length-t,0),s=Array(u);++i<u;)s[i]=a[t+i];i=-1;for(var c=Array(t+1);++i<t;)c[i]=a[i];return c[t]=n(s),r(e,this,c)}}},function(e,t){e.exports=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}},function(e,t,n){var r=n(23),o=n(35)(r);e.exports=o},function(e,t,n){var r=n(24),o=n(25),a=n(8),i=o?function(e,t){return o(e,"toString",{configurable:!0,enumerable:!1,value:r(t),writable:!0})}:a;e.exports=i},function(e,t){e.exports=function(e){return function(){return e}}},function(e,t,n){var r=n(26),o=function(){try{var e=r(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();e.exports=o},function(e,t,n){var r=n(27),o=n(34);e.exports=function(e,t){var n=o(e,t);return r(n)?n:void 0}},function(e,t,n){var r=n(9),o=n(31),a=n(4),i=n(33),u=/^\[object .+?Constructor\]$/,s=Function.prototype,c=Object.prototype,p=s.toString,l=c.hasOwnProperty,f=RegExp("^"+p.call(l).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!a(e)||o(e))&&(r(e)?f:u).test(i(e))}},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){var r=n(10),o=Object.prototype,a=o.hasOwnProperty,i=o.toString,u=r?r.toStringTag:void 0;e.exports=function(e){var t=a.call(e,u),n=e[u];try{e[u]=void 0;var r=!0}catch(e){}var o=i.call(e);return r&&(t?e[u]=n:delete e[u]),o}},function(e,t){var n=Object.prototype.toString;e.exports=function(e){return n.call(e)}},function(e,t,n){var r,o=n(32),a=(r=/[^.]+$/.exec(o&&o.keys&&o.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"";e.exports=function(e){return!!a&&a in e}},function(e,t,n){var r=n(6)["__core-js_shared__"];e.exports=r},function(e,t){var n=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return n.call(e)}catch(e){}try{return e+""}catch(e){}}return""}},function(e,t){e.exports=function(e,t){return null==e?void 0:e[t]}},function(e,t){var n=Date.now;e.exports=function(e){var t=0,r=0;return function(){var o=n(),a=16-(o-r);if(r=o,a>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}},function(e,t,n){var r=n(12),o=n(13),a=n(15),i=n(4);e.exports=function(e,t,n){if(!i(n))return!1;var u=typeof t;return!!("number"==u?o(n)&&a(t,n.length):"string"==u&&t in n)&&r(n[t],e)}},function(e,t,n){var r=n(38),o=n(49),a=n(13);e.exports=function(e){return a(e)?r(e,!0):o(e)}},function(e,t,n){var r=n(39),o=n(40),a=n(42),i=n(43),u=n(15),s=n(45),c=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n=a(e),p=!n&&o(e),l=!n&&!p&&i(e),f=!n&&!p&&!l&&s(e),d=n||p||l||f,h=d?r(e.length,String):[],m=h.length;for(var v in e)!t&&!c.call(e,v)||d&&("length"==v||l&&("offset"==v||"parent"==v)||f&&("buffer"==v||"byteLength"==v||"byteOffset"==v)||u(v,m))||h.push(v);return h}},function(e,t){e.exports=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}},function(e,t,n){var r=n(41),o=n(7),a=Object.prototype,i=a.hasOwnProperty,u=a.propertyIsEnumerable,s=r(function(){return arguments}())?r:function(e){return o(e)&&i.call(e,"callee")&&!u.call(e,"callee")};e.exports=s},function(e,t,n){var r=n(5),o=n(7);e.exports=function(e){return o(e)&&"[object Arguments]"==r(e)}},function(e,t){var n=Array.isArray;e.exports=n},function(e,t,n){(function(e){var r=n(6),o=n(44),a=t&&!t.nodeType&&t,i=a&&"object"==typeof e&&e&&!e.nodeType&&e,u=i&&i.exports===a?r.Buffer:void 0,s=(u?u.isBuffer:void 0)||o;e.exports=s}).call(this,n(16)(e))},function(e,t){e.exports=function(){return!1}},function(e,t,n){var r=n(46),o=n(47),a=n(48),i=a&&a.isTypedArray,u=i?o(i):r;e.exports=u},function(e,t,n){var r=n(5),o=n(14),a=n(7),i={};i["[object Float32Array]"]=i["[object Float64Array]"]=i["[object Int8Array]"]=i["[object Int16Array]"]=i["[object Int32Array]"]=i["[object Uint8Array]"]=i["[object Uint8ClampedArray]"]=i["[object Uint16Array]"]=i["[object Uint32Array]"]=!0,i["[object Arguments]"]=i["[object Array]"]=i["[object ArrayBuffer]"]=i["[object Boolean]"]=i["[object DataView]"]=i["[object Date]"]=i["[object Error]"]=i["[object Function]"]=i["[object Map]"]=i["[object Number]"]=i["[object Object]"]=i["[object RegExp]"]=i["[object Set]"]=i["[object String]"]=i["[object WeakMap]"]=!1,e.exports=function(e){return a(e)&&o(e.length)&&!!i[r(e)]}},function(e,t){e.exports=function(e){return function(t){return e(t)}}},function(e,t,n){(function(e){var r=n(11),o=t&&!t.nodeType&&t,a=o&&"object"==typeof e&&e&&!e.nodeType&&e,i=a&&a.exports===o&&r.process,u=function(){try{var e=a&&a.require&&a.require("util").types;return e||i&&i.binding&&i.binding("util")}catch(e){}}();e.exports=u}).call(this,n(16)(e))},function(e,t,n){var r=n(4),o=n(50),a=n(51),i=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return a(e);var t=o(e),n=[];for(var u in e)("constructor"!=u||!t&&i.call(e,u))&&n.push(u);return n}},function(e,t){var n=Object.prototype;e.exports=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||n)}},function(e,t){e.exports=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}},function(e,t,n){"use strict";n.r(t);var r=n(2),o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var i=function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function u(e,t,n,r){return new(n||(n=Promise))((function(o,a){function i(e){try{s(r.next(e))}catch(e){a(e)}}function u(e){try{s(r.throw(e))}catch(e){a(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,u)}s((r=r.apply(e,t||[])).next())}))}function s(e,t){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function u(a){return function(u){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=i.trys,(o=o.length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}}Object.create;Object.create;var c,p=n(17),l=n.n(p),f=n(3);!function(e){e.application="Application",e.hostGroup="Host Group",e.webApp="Web App",e.ip="IP"}(c||(c={}));var d=[c.application,c.hostGroup,c.webApp,c.ip],h=[{value:60,text:"60 seconds"},{value:300,text:"5 minutes"},{value:3600,text:"1 hour"},{value:21600,text:"6 hours"},{value:86400,text:"1 day"}],m={timeshift:0,granularity:h[0],sourceGroup:c.application,metrics:[],hostGroups:[],applications:[],webApps:[],currentIP:""},v=function(e){function t(t){var n,r=e.call(this,t)||this;return r.settings=t,r.url=r.settings.url||"",r.token=null!==(n=t.jsonData.token)&&void 0!==n?n:"",r.urls={base:r.url+"/base",auth:r.url+"/auth",webApp:r.url+"/webapps",metric:r.url+"/aggregates",hostGroup:r.url+"/hostgroups",url:r.url+"/urls",application:r.url+"/applications",instanceCreationSync:r.url+"/instancecreationsync"},r.headers={"Content-Type":"application/json"},r}return a(t,e),t.prototype.annotationQuery=function(e){var t=Object(f.getTemplateSrv)().replace(e.annotation.query,{},"glob"),n={range:e.range,annotation:{name:e.annotation.name,datasource:e.annotation.datasource,enable:e.annotation.enable,iconColor:e.annotation.iconColor,query:t},rangeRaw:e.rangeRaw};return this.doRequest({url:this.url+"/annotations",method:"POST",data:n}).then((function(e){return e.data}))},t.prototype.query=function(e){return u(this,void 0,Promise,(function(){var t,n,o,a,i,u,p,f,d,h,v,g=this;return s(this,(function(s){return t=e.range,n=t.to.valueOf(),o=t.from.valueOf(),u=0,p={},f={},d=[],h=[],v=e.targets.map((function(e){var t,s=l()(e,m);a=new Date(n).getTime()/1e3,i=new Date(o).getTime()/1e3,(void 0===s.timeshift||"string"==typeof s.timeshift&&s.timeshift===[])&&(s.timeshift=0),s.timeshift+=86400*s.timeshift-1*s.timeshift,u=s.timeshift,i-=u,a-=u,void 0!==u&&(s.timeshift=u),s.sourceGroup==c.hostGroup?(p={name:"aggregates"},f=["start_time","host_group.id"],d=["start_time","host_group.id","host_group.name"],h.push({type:"STEELFILTER",value:"host_group.id == "+s.currentHostGroupID})):s.sourceGroup===c.application?(p={name:"aggregates"},f=["start_time","app.id"],d=["start_time","app.id","app.name"],h.push({type:"STEELFILTER",value:"app.id == "+s.currentApplicationID})):s.sourceGroup===c.ip?(p={name:"aggregates"},f=["start_time","app.id"],d=["start_time","app.id","app.name","tcp.ip"],h.push({type:"STEELFILTER",value:"tcp.ip == "+s.currentIP})):s.sourceGroup===c.webApp&&(p={origin:"",path:"aggregates:App",type:"",name:"aggregates"},f=["start_time","app.id"],d=["start_time","app.id","app.name"],h.push({type:"STEELFILTER",value:"app.id == "+s.currentWebAppID})),void 0!==s.currentMetricID&&d.push(s.currentMetricID);var v={source:p,time:{start:i.toString(),end:a.toString(),granularity:null===(t=s.granularity)||void 0===t?void 0:t.value.toString()},group_by:f,columns:d,filters:h};return g.doRequest({url:g.urls.instanceCreationSync,data:{data_defs:[v]},method:"POST"}).then((function(e){var t,n=e.data.data_defs[0];t=void 0!==s.alias&&""!==s.alias.trim()?s.alias:s.currentMetric;for(var o=new r.MutableDataFrame({refId:s.refId,name:t,fields:[{name:"Time",type:r.FieldType.time},{name:"Value",type:r.FieldType.number}]}),a=0;a<n.data.length;a++){var i=n.data[a];o.appendRow([new Date(1e3*i[0]),i[i.length-1]])}return o}))})),[2,Promise.all(v).then((function(e){return{data:e}}))]}))}))},t.prototype.testDatasource=function(){return u(this,void 0,void 0,(function(){var e=this;return s(this,(function(t){return[2,Object(f.getBackendSrv)().datasourceRequest({method:"POST",url:this.urls.auth,headers:this.headers}).then((function(t){return!0===t.ok?(e.settings.jsonData.token=t.data.access_token,{status:"success",message:"Data source is working"}):{status:"error",message:"Data source is not working"}})).catch((function(e){return{status:"error",message:e.statusText}}))]}))}))},t.prototype.doRequest=function(e){return u(this,void 0,void 0,(function(){var t=this;return s(this,(function(n){switch(n.label){case 0:return""!==this.token&&void 0!==this.token&&null!==this.token?[3,2]:[4,Object(f.getBackendSrv)().datasourceRequest({method:"POST",url:this.urls.auth}).then((function(e){t.settings.jsonData.token=e.data.access_token}))];case 1:n.sent(),n.label=2;case 2:return[2,Object(f.getBackendSrv)().datasourceRequest(i(i({},e),{headers:i(i({},this.headers),{Authorization:"Bearer "+this.settings.jsonData.token})}))]}}))}))},t.prototype.getHostGroups=function(){return u(this,void 0,void 0,(function(){var e;return s(this,(function(t){switch(t.label){case 0:return e=[],[4,this.doRequest({method:"GET",url:this.urls.hostGroup}).then((function(t){if(void 0!==t)for(var n in t.data.items)t.data.items[n].enabled&&e.push({name:t.data.items[n].name,id:t.data.items[n].id})}))];case 1:return t.sent(),[2,e]}}))}))},t.prototype.getApplications=function(){return u(this,void 0,void 0,(function(){var e;return s(this,(function(t){switch(t.label){case 0:return e=[],[4,this.doRequest({method:"GET",url:this.urls.application}).then((function(t){if(void 0!==t)for(var n in t.data.items)t.data.items[n].enabled&&e.push({name:t.data.items[n].name,id:t.data.items[n].id})}))];case 1:return t.sent(),[2,e]}}))}))},t.prototype.getIPs=function(){return u(this,void 0,void 0,(function(){var e;return s(this,(function(t){switch(t.label){case 0:return e=[],[4,this.doRequest({method:"GET",url:this.urls.url}).then((function(t){if(void 0!==t)for(var n in t.data.items)t.data.items[n].enabled&&e.push({name:t.data.items[n].name,id:t.data.items[n].id})}))];case 1:return t.sent(),[2,e]}}))}))},t.prototype.getWebApps=function(){return u(this,void 0,void 0,(function(){var e;return s(this,(function(t){switch(t.label){case 0:return e=[],[4,this.doRequest({method:"GET",url:this.urls.webApp}).then((function(t){if(void 0!==t)for(var n in t.data.items)t.data.items[n].enabled&&e.push({name:t.data.items[n].name,id:t.data.items[n].id})}))];case 1:return t.sent(),[2,e]}}))}))},t.prototype.getMetrics=function(e){return u(this,void 0,void 0,(function(){var t;return s(this,(function(n){switch(n.label){case 0:return t=[],[4,this.doRequest({method:"GET",url:this.urls.metric}).then((function(n){for(var r in n.data.columns){var o=n.data.columns[r].id,a=n.data.columns[r].unit,i=n.data.columns[r].rate,u=n.data.columns[r].label;o.endsWith(".id")||o.endsWith("_id")||o.endsWith(".id")||o.endsWith(".name")||o.endsWith("_name")||o.endsWith(".ip")||o.endsWith("_ip")||o.endsWith(".url")||o.endsWith("_url")||o.endsWith(".type")||o.endsWith("_type")||o.endsWith(".dns")||o.endsWith("_dns")||o.endsWith("start_time")||o.endsWith("end_time")||o.includes("rtp")||(e!==c.application||o.includes("p2m")||o.includes("m2p")||o.includes("web")?(e===c.webApp&&o.includes("web")||e===c.hostGroup)&&("none"===a&&(a="occurence"),void 0!==i?t.push({name:u+"  ("+a+"/"+i+")",id:o}):t.push({name:u+"  ("+a+")",id:o})):("none"===a&&(a="occurence"),void 0!==i?t.push({name:u+"  ("+a+"/"+i+")",id:o}):t.push({name:u+"  ("+a+")",id:o})))}}))];case 1:return n.sent(),[2,t]}}))}))},t}(r.DataSourceApi),g=n(0),y=n.n(g),b=n(1),j=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._onOptionsChange=function(e){var n=t.props,r=n.onOptionsChange,o=n.options;return r(i(i({},o),e))},t.onPathChange=function(e){var n=t.props,r=n.onOptionsChange,o=n.options,a=i(i({},o.jsonData),{path:e.target.value});r(i(i({},o),{jsonData:a}))},t.onTlsSkipVerifyChange=function(e){var n=t.props,r=n.onOptionsChange,o=n.options,a=i(i({},o.jsonData),{tlsSkipVerify:e.target.checked,skipTlsVerify:e.target.checked});r(i(i({},o),{jsonData:a}))},t.onUsernameChange=function(e){var n=t.props,r=n.onOptionsChange,o=n.options,a=i(i({},o.jsonData),{username:e.target.value});r(i(i({},o),{jsonData:a}))},t.onPasswordChange=function(e){var n=t.props,r=n.onOptionsChange,o=n.options;r(i(i({},o),{secureJsonData:{password:e.target.value}}))},t.onResetPassword=function(){var e=t.props,n=e.onOptionsChange,r=e.options;n(i(i({},r),{secureJsonFields:i(i({},r.secureJsonFields),{password:!1}),secureJsonData:i(i({},r.secureJsonData),{password:""})}))},t}return a(t,e),t.prototype.render=function(){var e=this.props.options,t=e.secureJsonFields,n=e.secureJsonData||{};return y.a.createElement(y.a.Fragment,null,y.a.createElement("div",{className:"gf-form-inline"},y.a.createElement("div",{className:"gf-form"},y.a.createElement(b.InlineFormLabel,{className:"width-10"},"Path"),y.a.createElement("div",{className:"width-10"},y.a.createElement(b.Input,{className:"width-20",value:e.jsonData.path||"",onChange:this.onPathChange})))),y.a.createElement("div",{className:"gf-form-inline"},y.a.createElement("div",{className:"gf-form"},y.a.createElement(b.InlineFormLabel,{className:"width-10"},"User"),y.a.createElement("div",{className:"width-10"},y.a.createElement(b.Input,{className:"width-20",value:e.jsonData.username||"",onChange:this.onUsernameChange})))),y.a.createElement("div",{className:"gf-form-inline"},y.a.createElement("div",{className:"gf-form"},y.a.createElement(b.LegacyForms.SecretFormField,{isConfigured:t&&t.password,value:n.password||"",label:"Password","aria-label":"Password",labelWidth:10,inputWidth:20,onReset:this.onResetPassword,onChange:this.onPasswordChange}))),y.a.createElement("div",{className:"gf-form-inline"},y.a.createElement("div",{className:"gf-form"},y.a.createElement(b.InlineFieldRow,null,y.a.createElement(b.InlineField,{label:"Skip TLS Verify"},y.a.createElement(b.InlineSwitch,{value:e.jsonData.tlsSkipVerify||e.jsonData.skipTlsVerify,checked:e.jsonData.tlsSkipVerify||e.jsonData.skipTlsVerify,onChange:this.onTlsSkipVerifyChange}))))))},t}(g.PureComponent),w=n(18),S=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.getHostGroups=function(){return u(t,void 0,void 0,(function(){var e,t,n,r,o,a,u;return s(this,(function(s){switch(s.label){case 0:return e=this.props,t=e.query,n=e.datasource,r=e.onChange,t.hostGroups.length<1?(o=r,a=[i({},t)],u={},[4,n.getHostGroups()]):[3,2];case 1:o.apply(void 0,[i.apply(void 0,a.concat([(u.hostGroups=s.sent(),u)]))]),s.label=2;case 2:return[2]}}))}))},t.getApplications=function(){return u(t,void 0,void 0,(function(){var e,t,n,r,o,a,u;return s(this,(function(s){switch(s.label){case 0:return e=this.props,t=e.query,n=e.datasource,r=e.onChange,t.applications.length<1?(o=r,a=[i({},t)],u={},[4,n.getApplications()]):[3,2];case 1:o.apply(void 0,[i.apply(void 0,a.concat([(u.applications=s.sent(),u)]))]),s.label=2;case 2:return[2]}}))}))},t.getWebApps=function(){return u(t,void 0,void 0,(function(){var e,t,n,r,o,a,u;return s(this,(function(s){switch(s.label){case 0:return e=this.props,t=e.query,n=e.datasource,r=e.onChange,t.webApps.length<1?(o=r,a=[i({},t)],u={},[4,n.getWebApps()]):[3,2];case 1:o.apply(void 0,[i.apply(void 0,a.concat([(u.webApps=s.sent(),u)]))]),s.label=2;case 2:return[2]}}))}))},t.getMetrics=function(e){return u(t,void 0,void 0,(function(){var t,n,r,o,a,u,c;return s(this,(function(s){switch(s.label){case 0:return t=this.props,n=t.query,r=t.datasource,o=t.onChange,void 0!==e&&n.metrics.length<1?(a=o,u=[i({},n)],c={},[4,r.getMetrics(e)]):[3,2];case 1:a.apply(void 0,[i.apply(void 0,u.concat([(c.metrics=s.sent(),c)]))]),s.label=2;case 2:return[2]}}))}))},t.onSourceGroupChange=function(e){var n=t.props,r=n.onChange,o=n.query,a=n.onRunQuery;e.value===c.hostGroup?t.getHostGroups():e.value===c.application?t.getApplications():e.value===c.webApp&&t.getWebApps(),t.getMetrics(e.value),r(i(i({},o),{sourceGroup:e.value})),a()},t.onHostGroupChange=function(e){var n=t.props,r=n.onChange,o=n.query,a=n.onRunQuery;r(i(i({},o),{currentHostGroupID:e.id,currentHostGroup:e.name})),a()},t.onApplicationChange=function(e){var n=t.props,r=n.onChange,o=n.query,a=n.onRunQuery;r(i(i({},o),{currentApplicationID:e.id,currentApplication:e.name})),a()},t.onIPChange=function(e){var n=t.props,r=n.onChange,o=n.query,a=n.onRunQuery;r(i(i({},o),{currentIP:e.value})),a()},t.onMetricChange=function(e){var n=t.props,r=n.onChange,o=n.query,a=n.onRunQuery;r(i(i({},o),{currentMetricID:e.id,currentMetric:e.name})),a()},t.getOptions=function(){var e=t.props.query.sourceGroup;e===c.hostGroup?t.getHostGroups():e===c.application?t.getApplications():e===c.webApp&&t.getWebApps(),t.getMetrics(e)},t}return a(t,e),t.prototype.render=function(){var e,t,n=this,r=Object(w.defaults)(this.props.query,m);return this.getOptions(),y.a.createElement("div",{className:"gf-form-group"},y.a.createElement("div",{className:"gf-form-inline"},y.a.createElement(b.SegmentSection,{label:"Source Group"},y.a.createElement(b.Segment,{value:r.sourceGroup,options:d.map((function(e){return{value:e,label:e}})),onLoad:this.getOptions,onChange:this.onSourceGroupChange})),y.a.createElement("div",{className:"gf-form-inline",style:r.sourceGroup===c.hostGroup?{display:"block"}:{display:"none"}},y.a.createElement(b.SegmentSection,{label:c.hostGroup.toString()},y.a.createElement(b.Segment,{id:r.currentHostGroupID,value:r.currentHostGroup,options:r.hostGroups.map((function(e){return{id:e.id,name:e.name,value:e.name,label:e.name}})),onChange:this.onHostGroupChange}))),y.a.createElement("div",{className:"gf-form-inline",style:r.sourceGroup===c.application?{display:"block"}:{display:"none"}},y.a.createElement(b.SegmentSection,{label:c.application.toString()},y.a.createElement(b.Segment,{id:r.currentApplicationID,value:r.currentApplication,options:r.applications.map((function(e){return{id:e.id,name:e.name,value:e.name,label:e.name}})),onChange:this.onApplicationChange}))),y.a.createElement("div",{className:"gf-form-inline",style:r.sourceGroup===c.webApp?{display:"block"}:{display:"none"}},y.a.createElement(b.SegmentSection,{label:c.webApp.toString()},y.a.createElement(b.Segment,{id:r.currentWebAppID,value:r.currentWebApp,options:r.webApps.map((function(e){return{id:e.id,name:e.name,value:e.name,label:e.name}})),onChange:function(e){n.props.onChange(i(i({},r),{currentWebAppID:e.id,currentWebApp:e.name}))}}))),y.a.createElement("div",{className:"gf-form-inline",style:r.sourceGroup===c.ip?{display:"block"}:{display:"none"}},y.a.createElement(b.SegmentSection,{label:c.ip.toString()},y.a.createElement(b.SegmentInput,{value:r.currentIP||"",onChange:function(e){n.props.onChange(i(i({},r),{currentIP:e}))}}))),y.a.createElement(b.SegmentSection,{label:"Granularity"},y.a.createElement(b.Segment,{value:null===(e=r.granularity)||void 0===e?void 0:e.text,options:h.map((function(e){return{value:e.text,label:e.text}})),onChange:function(e){var t;n.props.onChange(i(i({},r),{granularity:(t=e.value,h.find((function(e){return e.text===t})))}))}})),y.a.createElement(b.SegmentSection,{label:"Timeshift"},y.a.createElement(b.SegmentInput,{value:(null===(t=r.timeshift)||void 0===t?void 0:t.toString())||"0",onChange:function(e){n.props.onChange(i(i({},r),{timeshift:parseInt(e)}))}})),y.a.createElement(b.SegmentSection,{label:"Alias"},y.a.createElement(b.SegmentInput,{value:r.alias||"",onChange:function(e){n.props.onChange(i(i({},r),{alias:e}))}})),y.a.createElement("div",{className:"gf-form-inline"},y.a.createElement(b.Select,{width:"auto",prefix:"Metrics",menuShouldPortal:!0,options:r.metrics.map((function(e){return{id:e.id,name:e.name,value:e.name,label:e.name}})),value:r.currentMetric,onChange:this.onMetricChange}))))},t}(g.PureComponent);n.d(t,"plugin",(function(){return x}));var x=new r.DataSourcePlugin(v).setConfigEditor(j).setQueryEditor(S)}])}));
//# sourceMappingURL=module.js.map